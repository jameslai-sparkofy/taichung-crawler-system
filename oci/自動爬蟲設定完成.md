# 🎉 自動爬蟲設定完成！

## 設定摘要

✅ **安裝位置**: `/home/laija/taichung-building-crawler/`
✅ **執行時間**: 每天凌晨 3:00 AM (台灣時間)
✅ **執行方式**: Linux crontab

## 自動爬蟲運作方式

1. **每日執行內容**：
   - 爬取最新的 100 筆建照資料
   - 自動檢查重複，避免重複爬取
   - 記錄執行日誌
   - 上傳狀態到 OCI

2. **日誌位置**：
   - 本地日誌：`/home/laija/taichung-building-crawler/logs/`
   - 執行狀態：OCI Object Storage `logs/last-run-status.json`

## 如何在其他機器安裝

如果您想在 OCI Compute Instance 或其他 Linux 機器上安裝：

```bash
# 1. 下載安裝腳本
oci os object get \
    --namespace nrsdi1rz5vl8 \
    --bucket-name taichung-building-permits \
    --name scripts/auto-crawler-installer.sh \
    --file installer.sh

# 2. 執行安裝
chmod +x installer.sh
./installer.sh

# 3. 測試安裝
cd ~/taichung-building-crawler
./test-crawler.sh
```

## 管理命令

```bash
# 查看 crontab 設定
crontab -l

# 手動執行爬蟲
~/taichung-building-crawler/auto-crawler.sh

# 查看最新日誌
ls -la ~/taichung-building-crawler/logs/
tail -f ~/taichung-building-crawler/logs/crawler-*.log

# 解除安裝
~/taichung-building-crawler/uninstall.sh
```

## 監控爬蟲狀態

1. **監控面板**：
   https://objectstorage.ap-tokyo-1.oraclecloud.com/n/nrsdi1rz5vl8/b/taichung-building-permits/o/monitor.html

2. **建照資料查詢**：
   https://objectstorage.ap-tokyo-1.oraclecloud.com/n/nrsdi1rz5vl8/b/taichung-building-permits/o/index.html

## 注意事項

- 自動爬蟲會在每天凌晨 3:00 執行
- 每次最多爬取 100 筆新資料
- 如果機器重啟，crontab 會自動恢復運作
- 建議定期檢查日誌確保正常運作

## 下一步

現在自動爬蟲已經設定完成，系統會：
1. 每天自動爬取最新建照資料
2. 保持資料庫更新
3. 記錄所有執行狀態

您可以繼續爬取 113 年剩餘的資料了！